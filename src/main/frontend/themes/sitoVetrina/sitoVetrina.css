/* ======================================================
   SITO VETRINA - COMPLETE THEME (Dark Elegant + Nav Red)
   Replace entire stylesheet with this file
   ====================================================== */

/* ---------------------------
   VARIABILI GLOBALI
   --------------------------- */
:root{
    --bg: #0f1115;
    --bg-2: #0b0c0f;
    --surface: #121317;
    --muted: #9aa3b2;
    --text: #eaf0f6;
    --accent-solid: #d42a3b; /* rosso principale */
    --accent-gradient: linear-gradient(90deg,#d42a3b 0%,#ff3a86 100%);
    --radius-lg: 20px;
    --radius-md: 12px;
    --radius-sm: 8px;
    --glass-blur: 14px;
    --shadow-soft: 0 8px 40px rgba(2,6,23,0.6);
    --shadow-glow: 0 8px 60px rgba(122,91,255,0.12);
    --transition-fast: 180ms cubic-bezier(.2,.9,.3,1);
    --transition: 340ms cubic-bezier(.16,.84,.29,1);
    --font-main: "Poppins", "Inter", "Helvetica Neue", Arial, sans-serif;
    --container-max: 1280px;
    --header-height: 88px; /* regola se necessario */
}

/* ---------------------------
   RESET E BASE
   --------------------------- */
*,
*::before,
*::after { box-sizing: border-box; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
html,body{height:100%;width:100%;margin:0;padding:0;font-family:var(--font-main);background:linear-gradient(180deg,#07080b 0%,var(--bg) 100%);color:var(--text);}
img{display:block;max-width:100%;height:auto;}
a{color:inherit;text-decoration:none;transition:color var(--transition),transform var(--transition);}
a:hover{transform:translateY(-2px);}

/* Se vuoi che il contenuto non venga nascosto dal fixed header:
   body pu√≤ usare un padding-top pari all'altezza header.
   Se gi√† gestisci il padding nel layout, puoi rimuovere questa regola. */
body { padding-top: calc(var(--header-height)); }

/* Accessibility: prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; scroll-behavior: auto !important; }
}

/* ---------------------------
   LAYOUT PRINCIPALE / CONTAINER
   --------------------------- */
.home-layout, .app-container {
    width:100%;
    max-width:var(--container-max);
    margin:0 auto;
    padding: 24px 28px 120px; /* lascio spazio bottom, header gestito via body padding-top */
    display:flex;
    flex-direction:column;
    gap:28px;
    position:relative;
    isolation:isolate;
}

/* Helpers */
.centered { display:flex; align-items:center; justify-content:center; }
.hidden { display:none !important; }

/* ---------------------------
   TIPOGRAFIA
   --------------------------- */
h1,h2,h3,h4,h5 { margin:0; color:var(--text); font-weight:700; letter-spacing:-0.02em; }
h1{font-size:clamp(1.8rem,4.2vw,3.6rem);line-height:1.02;}
h2{font-size:clamp(1.2rem,3.2vw,2.2rem);}
p{margin:0 0 0.8rem 0;color:var(--muted);line-height:1.7;}

/* Buttons */
button,.btn,.cta{
    background-image:var(--accent-gradient);
    color:#fff;border:none;padding:10px 18px;border-radius:12px;font-weight:700;cursor:pointer;
    box-shadow:var(--shadow-glow);transition:transform var(--transition-fast),box-shadow var(--transition-fast),opacity var(--transition-fast);
}
button:hover,.btn:hover,.cta:hover{transform:translateY(-4px);box-shadow:0 28px 80px rgba(212,42,59,0.12);}

/* ---------------------------
   NAVBAR (fixed, centered, animated)
   --------------------------- */
/* base */
#header{
    position:fixed;
    top:20px;
    left:50%;
    transform:translateX(-50%) translateY(-6px); /* parte leggermente sollevata per il fade-in */
    width:92%;
    max-width:1280px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:18px 36px;
    background: rgba(12,12,16,0.20); /* molto trasparente inizialmente */
    border-radius:16px;
    border:1px solid rgba(255,255,255,0.04);
    box-shadow:var(--shadow-soft);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    z-index:9999;
    transition: all var(--transition);
    opacity:0; /* sar√† visibile dopo la prima animazione (fade-in iniziale) */
}

/* header visibile dopo il caricamento (aggiungi .in via JS) */
#header.in{ opacity:1; transform: translateX(-50%) translateY(0); transition: all 420ms cubic-bezier(.16,.84,.29,1); }

/* inner columns */
#header .left,#header .center,#header .right{display:flex;align-items:center;gap:12px;}
#header .center{flex:1;justify-content:center;}
#header .logo img{width:min(180px,20vw);height:auto;border-radius:10px;}

/* menu */
.menu-center{display:flex;gap:20px;align-items:center;}
.menu-center a{color:var(--text);font-weight:600;padding:8px 12px;border-radius:10px;transition:background var(--transition),transform var(--transition);}
.menu-center a:hover{background:rgba(255,255,255,0.04);}

/* scrolled state: shrink + rosso + blur pi√π forte */
#header.scrolled{
    transform:translateX(-50%) translateY(-6px) scale(0.82); /* ~18% pi√π piccola */
    width:80%;
    padding:12px 28px;
    border-radius:22px;
    background: linear-gradient(180deg, rgba(212,42,59,0.92), rgba(140,20,32,0.92)); /* rosso dark solido */
    border:1px solid rgba(255,255,255,0.06);
    box-shadow:0 20px 90px rgba(212,42,59,0.18), 0 10px 40px rgba(0,0,0,0.7);
    backdrop-filter: blur(18px) saturate(1.05);
    -webkit-backdrop-filter: blur(18px) saturate(1.05);
}

/* Evita che il fixed header crei spazi "bianchi" visibili o rimanenze:
   forziamo background trasparente per nodi di app layout eventualmente sovrapposti */
.jmix-main-view-header, vaadin-app-layout::part(navbar), .jmix-main-view-application-title-base-link {
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
}

/* mobile */
@media (max-width:920px){
    #header{width:96%;padding:12px 18px;top:12px;}
    #header.scrolled{width:92%;padding:10px 14px;border-radius:12px;transform:translateX(-50%) translateY(-4px) scale(0.95);}
    .menu-center{display:none;} /* usa hamburger nel template se vuoi */
}

/* ---------------------------
   HERO
   --------------------------- */
.hero-banner{
    width:100%;
    min-height:clamp(260px,36vh,520px);
    border-radius:var(--radius-lg);
    overflow:hidden;
    position:relative;
    display:flex;align-items:center;justify-content:center;
    background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    box-shadow:0 40px 120px rgba(2,6,23,0.6);
}
.hero-banner .hero-image, vaadin-image.hero-image::part(img){ width:100%;height:100%;object-fit:cover;display:block;transition: transform 900ms var(--transition), filter 700ms var(--transition); }
.hero-banner:hover .hero-image{ transform:scale(1.03) translateY(-6px); filter:saturate(1.05); }

.hero-overlay{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; background:linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.06)); }
.hero-text h2{ font-size:clamp(1.6rem,3.8vw,2.6rem); font-weight:800; margin:0; -webkit-background-clip:text; background:linear-gradient(90deg,#ffffff 0%, #dfeaff 60%); color:transparent; text-shadow:0 10px 40px rgba(0,0,0,0.6); }

/* ---------------------------
   CARDS (con reveal on-scroll)
   --------------------------- */
.card{
    position:relative;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius: var(--radius-md);
    padding: clamp(16px,2.6vw,28px);
    box-shadow: 0 24px 80px rgba(2,6,23,0.6);
    border: 1px solid rgba(255,255,255,0.03);
    overflow: visible;
    transition: transform var(--transition), box-shadow var(--transition), opacity var(--transition);
    will-change: transform, opacity;
    opacity: 0;
    transform: translateY(18px) scale(0.995);
}

/* classe che attiver√† l'animazione quando l'elemento entra in viewport (JS aggiunge .in-view) */
.card.in-view{ opacity:1; transform: translateY(0) scale(1); box-shadow: 0 40px 110px rgba(2,6,23,0.68); }

/* hover */
.card:hover{ transform: translateY(-6px) scale(1.01); }

/* testo */
.card h3{ color:#fff; margin-bottom:10px; font-weight:700; }
.card p{ color:var(--muted); font-size:1rem; line-height:1.7; }

/* sheen decorativo */
.card::before{
    content:"";
    position:absolute;
    left:-30%;
    top:-40%;
    width:160%;
    height:200%;
    pointer-events:none;
    background: radial-gradient(600px 200px at 10% 10%, rgba(255,255,255,0.03), transparent 12%);
    opacity:0;
    transition: opacity 600ms var(--transition);
}
.card:hover::before{ opacity:1; }

/* ---------------------------
   MEDIA / GALLERY / CAROUSEL
   --------------------------- */
.media-section, .preview-box, .carousel-section, .gallery-item, .footer-section { will-change: transform, opacity; }

/* gallery */
.gallery-grid{ display:grid; grid-template-columns: repeat(2,1fr); gap:18px; align-items:stretch; }
.gallery-item{ position:relative; height:360px; overflow:hidden; border-radius:14px; cursor:pointer; box-shadow:0 20px 60px rgba(2,6,23,0.55); border:1px solid rgba(255,255,255,0.03); transition: transform 500ms var(--transition), box-shadow 500ms var(--transition); opacity:0; transform: translateY(18px); }
.gallery-item.in-view{ opacity:1; transform: translateY(0); }
.gallery-item img, vaadin-image.gallery-item::part(img){ width:100%; height:100%; object-fit:cover; display:block; }
.gallery-item:hover{ transform: translateY(-8px) scale(1.02); box-shadow:0 34px 120px rgba(2,6,23,0.72); filter:saturate(1.06); }

/* carousel */
.carousel-section{ width:100%; max-width:var(--container-max); border-radius:18px; overflow:hidden; position:relative; background: linear-gradient(180deg, rgba(0,0,0,0.02), rgba(0,0,0,0.03)); box-shadow:0 40px 120px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03); height: clamp(320px,44vh,720px); }
.carousel-image, vaadin-image.carousel-image::part(img){ position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transform: translateY(8px) scale(1.01); transition: opacity 700ms var(--transition), transform 700ms var(--transition); }
.carousel-image.active{ opacity:1; transform: translateY(0) scale(1); z-index:1; }

/* carousel controls */
.carousel-btn{ position:absolute; top:50%; transform: translateY(-50%); background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.06); width:52px; height:52px; border-radius:14px; display:flex; align-items:center; justify-content:center; cursor:pointer; z-index:12; transition: transform var(--transition-fast), background var(--transition-fast), box-shadow var(--transition-fast); backdrop-filter: blur(6px); }
.carousel-btn:hover{ transform: translateY(-50%) scale(1.06); box-shadow:0 12px 40px rgba(2,6,23,0.6); background: rgba(255,255,255,0.08); }

/* carousel dots */
.carousel-indicators{ position:absolute; bottom:22px; left:50%; transform:translateX(-50%); display:flex; gap:10px; z-index:20; }
.carousel-dot{ width:10px; height:10px; border-radius:50%; background: rgba(255,255,255,0.36); cursor:pointer; transition: transform 260ms ease, background 260ms ease; }
.carousel-dot.active{ background: var(--accent-solid); transform: scale(1.25); box-shadow: 0 0 20px rgba(255,58,134,0.2); }

/* ---------------------------
   FORMS (VAADIN specific)
   --------------------------- */
vaadin-text-field, vaadin-text-area, vaadin-combo-box, vaadin-date-picker{
    --lumo-body-text-color: var(--text);
    --vaadin-input-field-background: #0e1114;
    --vaadin-input-field-border-color: rgba(255,255,255,0.06);
    --vaadin-input-field-focus-border-color: rgba(212,42,59,0.85);
    border-radius: 10px !important;
    background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01)) !important;
    color: var(--text) !important;
    border: 1px solid rgba(255,255,255,0.03) !important;
    transition: box-shadow var(--transition), transform var(--transition);
}
vaadin-text-field:focus-within, vaadin-text-area:focus-within { box-shadow: 0 6px 30px rgba(212,42,59,0.08); transform: translateY(-2px); }
vaadin-text-field::part(label), vaadin-text-area::part(label){ color:var(--muted); font-weight:600; }

/* ---------------------------
   FOOTER
   --------------------------- */
.footer-section{
    width:100%;
    background:linear-gradient(180deg, rgba(18,18,20,0.96), rgba(12,12,14,0.98));
    border-top:2px solid rgba(212,42,59,0.28);
    padding: clamp(36px,6vw,64px) 8%;
    box-sizing:border-box;
    display:flex;flex-direction:column;align-items:center;gap:28px;
    position:relative; overflow:visible;
    box-shadow: inset 0 10px 40px rgba(212,42,59,0.06);
}
.footer-content{ width:100%; max-width:1200px; display:flex; justify-content:space-between; flex-wrap:wrap; gap:20px; }
.footer-col{ flex:1; min-width:220px; }
.footer-col h3{ color:#fff; margin-bottom:12px; font-weight:700; }
.footer-col p{ color:var(--muted); margin:6px 0; }
.footer-social{ display:flex; gap:12px; align-items:center; }
.footer-social img{ width:34px; height:34px; filter:invert(1); opacity:0.86; transition: transform var(--transition), opacity var(--transition); }
.footer-social img:hover{ transform: scale(1.15); opacity:1; }
.footer-copy{ color:#9aa3b2; font-size:0.92rem; text-align:center; width:100%; border-top:1px solid rgba(255,255,255,0.03); padding-top:16px; margin-top:8px; }

/* decorative accent line */
.footer-section::after{
    content:""; position:absolute; left:50%; transform:translateX(-50%); top:-6px; width:50%; height:3px; border-radius:999px;
    background: linear-gradient(90deg, rgba(212,42,59,0.8), rgba(255,58,134,0.6)); opacity:0.12; filter:blur(8px);
}

/* ---------------------------
   REVEAL / ANIMATIONS HELPERS
   --------------------------- */
/* small generic keyframes */
@keyframes fadeInUp{ from{opacity:0; transform:translateY(18px);} to{opacity:1; transform:none;} }
@keyframes subtlePop{ from{transform:scale(.98); opacity:0} to{transform:scale(1); opacity:1} }

/* .reveal is kept for compatibility ‚Äî JS can add .in-view to elements */
.reveal{ opacity:0; transform:translateY(18px); }
.reveal.in-view{ animation: fadeInUp 900ms var(--transition) both; }

/* ---------------------------
   RESPONSIVE RULES
   --------------------------- */
@media (max-width:1200px){
    .home-layout{ padding:64px 20px 100px; gap:20px; }
    .gallery-grid{ grid-template-columns:1fr 1fr; }
    .carousel-section{ height:clamp(300px,40vh,600px); }
    #header{ width:94%; padding:16px 28px; }
}
@media (max-width:900px){
    .home-layout{ padding:64px 16px 100px; }
    .gallery-grid{ grid-template-columns:1fr; gap:14px; }
    .menu-center{ display:none; }
    #header{ top:8px; left:50%; transform:translateX(-50%); width:96%; padding:12px 18px; border-radius:12px; }
    #header.scrolled{ width:94%; padding:10px 16px; border-radius:12px; transform:translateX(-50%) translateY(-4px) scale(0.95); }
    .carousel-btn{ width:44px; height:44px; left:10px; right:10px; }
    .media-section{ padding:8px; }
}
@media (max-width:520px){
    .home-layout{ padding:56px 12px 120px; }
    .hero-banner{ min-height:200px; }
    h1{ font-size:1.6rem; }
    .footer-section{ padding:36px 6%; }
}

/* ---------------------------
   VAADIN PART SELECTORS (immagini)
   --------------------------- */
vaadin-image.hero-image::part(img),
vaadin-image.media-content::part(img),
vaadin-image.carousel-image::part(img),
vaadin-image.logo-top::part(img),
vaadin-image.gallery-item::part(img) {
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transition: transform 800ms var(--transition), filter 600ms var(--transition);
}

/* ---------------------------
   LEGACY / COMPAT
   --------------------------- */
.menu-center jmix-horizontal-menu a, .menu-center jmix-horizontal-menu, .menu-center jmix-horizontal-menu::part { color: var(--text); }
.preview-box, .preview-container, .card, .about-card { backface-visibility: hidden; }

/* Navbar base: visibile, rossa come il bordo del footer */
#header {
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    height: var(--header-height);
    z-index: 100;
    border-radius: 16px;
    background: linear-gradient(180deg, rgba(212,42,59,0.95), rgba(140,20,32,0.95));
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: 0 0 40px rgba(212,42,59,0.28);
    backdrop-filter: blur(12px);
    transition: all 3s cubic-bezier(.16,.84,.29,1); /* üëà transizione 3 secondi */
}

/* Navbar compatta quando si scrolla */
#header.scrolled {
    transform: translateX(-50%) translateY(-6px) scale(0.92);
    opacity: 0.9;
    border-radius: 26px;
    box-shadow: 0 0 60px rgba(212,42,59,0.5);
}
@keyframes glow {
    0%, 100% { box-shadow: 0 0 40px rgba(212,42,59,0.28); }
    50% { box-shadow: 0 0 80px rgba(212,42,59,0.5); }
}

#header.scrolled {
    animation: glow 3s ease-in-out infinite alternate;
}
